<!DOCTYPE html>
<html>
{{ partial "header.html" . }}

<body>
	<div class="container wrapper list">
		{{ partial "head.html" . }}

		{{ if isset .Data "Term" }}
		<h2>{{ .Data.Term }}</h2>
		{{ else }}
		<h2 class="page-title">{{ .Name }}</h2>
		{{ end }}

		<ul class="posts flat">
			{{- range .Data.Pages -}}
			{{- if (in (.Site.Params.excludedTypes | default (slice "page")) .Type) -}}
			{{- else -}}
			<li class="post">
				<div class="post-header">
					<div class="matter">
						<!-- 標題 -->
						<h4 class="title small">
							<a href="{{ .RelPermalink }}">{{.Title}}{{ if .Draft }}<sup
									class="draft-label">DRAFT</sup>{{ end }}</a>
						</h4>

						{{/* 日期資訊區塊 - 水平排列設計 */}}
						{{/* 發布日期與更新日期並排，使用 CSS 圓點分隔符 */}}
						<div class="date-row">
							{{/* 發布日期 - ISO 格式 (YYYY-MM-DD) */}}
							<div class="publish-date">
								發佈於 {{ .Date.Format "2006-01-02" }}
							</div>

							{{/* 更新日期 - 僅當 lastmod 晚於 date 時顯示 */}}
							{{ if and (ne .Lastmod .Date) (gt .Lastmod .Date) }}
							<div class="lastmod-subtle-container">
								{{ .Lastmod.Format "2006-01-02" }} 更新
							</div>
							{{ end }}
						</div>

						<!-- 顯示 Categories 跟 Tags -->
						<h4 class="title small smaller taxonomy-list">
							<!-- 1. 顯示 Categories (@Title) -->
							{{ if gt .Params.categories 0 }}
							<ul class="tags flat category-list">
								{{ $categoryUrl := "categories/"}}
								{{ range first .Site.Params.maxTags .Params.categories }}
								<li class="tag-li">
									<a href="{{ $categoryUrl | relLangURL }}{{ . | urlize }}">
										<!-- 使用 @ 符號 -->
										<span class="taxonomy-icon">@</span>{{ . }}
									</a>
								</li>
								{{ end }}
							</ul>
							{{ end }}

							<!-- 2. 顯示 Tags (#Title) -->
							{{ if gt .Params.tags 0 }}
							<ul class="tags flat tag-list">
								{{ $tagUrl := "tags/"}}
								{{ range first .Site.Params.maxTags .Params.tags }}
								<li class="tag-li">
									<a href="{{ $tagUrl | relLangURL }}{{ . | urlize }}">
										<!-- 使用 # 符號 -->
										<span class="taxonomy-icon">#</span>{{ . }}
									</a>
								</li>
								{{ end }}
							</ul>
							{{ end }}
						</h4>
						<span class="description">
							{{ if isset .Params "description" }}
							{{ .Description }}
							{{ else if gt (len .RawContent) 120 }}
							{{ slicestr .RawContent 0 120 }}...
							{{ else }}
							{{ .RawContent }}
							{{ end }}
						</span>
					</div>
				</div>
			</li>
			{{- end -}}
			{{- end -}}
		</ul>
	</div>

	{{ partial "footer.html" . }}
</body>

</html>